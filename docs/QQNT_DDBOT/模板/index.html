<!doctype html>
<html lang="zh-CN" data-theme="light">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width,initial-scale=1" />
    <meta name="generator" content="VuePress 2.0.0-rc.13" />
    <meta name="theme" content="VuePress Theme Hope 2.0.0-rc.48" />
    <style>
      html {
        background: var(--bg-color, #fff);
      }

      html[data-theme="dark"] {
        background: var(--bg-color, #1d1e1f);
      }

      body {
        background: var(--bg-color);
      }
    </style>
    <script>
      const userMode = localStorage.getItem("vuepress-theme-hope-scheme");
      const systemDarkMode =
        window.matchMedia &&
        window.matchMedia("(prefers-color-scheme: dark)").matches;

      if (userMode === "dark" || (userMode !== "light" && systemDarkMode)) {
        document.documentElement.setAttribute("data-theme", "dark");
      }
    </script>
    <meta property="og:url" content="https://vuepress-theme-hope-docs-demo.netlify.app/docs/QQNT_DDBOT/%E6%A8%A1%E6%9D%BF/"><meta property="og:site_name" content="DDBOT"><meta property="og:title" content="模板"><meta property="og:description" content="DDBOT 模板介绍 DDBOT的模板大致与GO标准库 text/template 与相同，想深入了解请参考官方文档 。 注：DDBOT模板从v1.0.5版本开始支持** 配置 DDBOT默认不启用自定义模板，当需要使用时，需要修改配置文件 application.yaml ，在其中增加一段配置，并且重启bot： 如果配置成功，启动时将显示日志信息：已..."><meta property="og:type" content="article"><meta property="og:locale" content="zh-CN"><meta property="og:updated_time" content="2025-05-29T07:03:18.000Z"><meta property="article:author" content="晴风"><meta property="article:modified_time" content="2025-05-29T07:03:18.000Z"><script type="application/ld+json">{"@context":"https://schema.org","@type":"Article","headline":"模板","image":[""],"dateModified":"2025-05-29T07:03:18.000Z","author":[{"@type":"Person","name":"晴风","url":"https://gitee.com/rock8526652"}]}</script><title>模板 | DDBOT</title><meta name="description" content="DDBOT 模板介绍 DDBOT的模板大致与GO标准库 text/template 与相同，想深入了解请参考官方文档 。 注：DDBOT模板从v1.0.5版本开始支持** 配置 DDBOT默认不启用自定义模板，当需要使用时，需要修改配置文件 application.yaml ，在其中增加一段配置，并且重启bot： 如果配置成功，启动时将显示日志信息：已...">
    <link rel="preload" href="/assets/style-CPmqi3Qx.css" as="style"><link rel="stylesheet" href="/assets/style-CPmqi3Qx.css">
    <link rel="modulepreload" href="/assets/app-QMSbrpS1.js"><link rel="modulepreload" href="/assets/index.html-dSu9Z5JN.js"><link rel="modulepreload" href="/assets/plugin-vue_export-helper-DlAUqK2U.js">
    <link rel="prefetch" href="/assets/index.html-C1CwPmc-.js" as="script"><link rel="prefetch" href="/assets/index.html-NL0yY91u.js" as="script"><link rel="prefetch" href="/assets/1.html-BC1AZ3wX.js" as="script"><link rel="prefetch" href="/assets/index.html-CS6BC4rK.js" as="script"><link rel="prefetch" href="/assets/index.html-9Eo_rJBn.js" as="script"><link rel="prefetch" href="/assets/index.html-fSKnXVRH.js" as="script"><link rel="prefetch" href="/assets/index.html-CSM2mTw7.js" as="script"><link rel="prefetch" href="/assets/index.html-BmOfLo1N.js" as="script"><link rel="prefetch" href="/assets/index.html-CyH0KJxK.js" as="script"><link rel="prefetch" href="/assets/Gensokyo.html-oGRsKBuw.js" as="script"><link rel="prefetch" href="/assets/LLOneBot.html-BifNZeMu.js" as="script"><link rel="prefetch" href="/assets/Lagrange.OneBot.html-dtvpznqx.js" as="script"><link rel="prefetch" href="/assets/NapCat.html-DejzuEl3.js" as="script"><link rel="prefetch" href="/assets/index.html-gt7D5kHl.js" as="script"><link rel="prefetch" href="/assets/Shamrock.html-l1g4D0ll.js" as="script"><link rel="prefetch" href="/assets/Yunzai.html-DOOeMwdg.js" as="script"><link rel="prefetch" href="/assets/index.html-DhnlBZ1Y.js" as="script"><link rel="prefetch" href="/assets/index.html-BWn3IF7X.js" as="script"><link rel="prefetch" href="/assets/index.html-DxAYCfw8.js" as="script"><link rel="prefetch" href="/assets/index.html-C02_NT3Y.js" as="script"><link rel="prefetch" href="/assets/Gensokyo.html-c6rV8aUq.js" as="script"><link rel="prefetch" href="/assets/LLOneBot.html-1vw1-b8p.js" as="script"><link rel="prefetch" href="/assets/Lagrange.OneBot.html-BdRHMPYO.js" as="script"><link rel="prefetch" href="/assets/NapCat.html-DmFjOhdv.js" as="script"><link rel="prefetch" href="/assets/index.html-BH_2JY4V.js" as="script"><link rel="prefetch" href="/assets/Shamrock.html-71P59i_7.js" as="script"><link rel="prefetch" href="/assets/Yunzai.html-BcE7iET9.js" as="script"><link rel="prefetch" href="/assets/index.html-BhWKzakq.js" as="script"><link rel="prefetch" href="/assets/index.html-C3NcOJHl.js" as="script"><link rel="prefetch" href="/assets/index.html-DuaN4zIb.js" as="script"><link rel="prefetch" href="/assets/index.html-BeHoGq7I.js" as="script"><link rel="prefetch" href="/assets/index.html-CJ_RPanj.js" as="script"><link rel="prefetch" href="/assets/404.html-BkKXvAmN.js" as="script"><link rel="prefetch" href="/assets/giscus-1zs_z9NH.js" as="script"><link rel="prefetch" href="/assets/photoswipe.esm-DXWKOczD.js" as="script">
  </head>
  <body>
    <div id="app"><!--[--><!--[--><!--[--><span tabindex="-1"></span><a href="#main-content" class="vp-skip-link sr-only">跳至主要內容</a><!--]--><div class="theme-container external-link-icon has-toc"><!--[--><header id="navbar" class="vp-navbar"><div class="vp-navbar-start"><button type="button" class="vp-toggle-sidebar-button" title="Toggle Sidebar"><span class="icon"></span></button><!----><!--[--><a class="route-link vp-brand" href="/"><img class="vp-nav-logo" src="https://github.com/qsyhh/docs/blob/main/src/.vuepress/public/logo.png?raw=true" alt><!----><span class="vp-site-name hide-in-pad">DDBOT</span></a><!--]--><!----></div><div class="vp-navbar-center"><!----><!--[--><nav class="vp-nav-links"><div class="vp-nav-item hide-in-mobile"><a class="route-link auto-link" href="/" aria-label="DDBOT安装教程"><!--[--><span class="font-icon icon fa-fw fa-sm fas fa-home" style=""></span><!--]-->DDBOT安装教程<!----></a></div><div class="vp-nav-item hide-in-mobile"><a class="route-link route-link-active auto-link" href="/docs/" aria-label="指南"><!--[--><span class="font-icon icon fa-fw fa-sm fas fa-lightbulb" style=""></span><!--]-->指南<!----></a></div></nav><!--]--><!----></div><div class="vp-navbar-end"><!----><!--[--><!----><div class="vp-nav-item vp-action"><a class="vp-action-link" href="https://github.com/rock8526652/docs" target="_blank" rel="noopener noreferrer" aria-label="GitHub"><svg xmlns="http://www.w3.org/2000/svg" class="icon github-icon" viewBox="0 0 1024 1024" fill="currentColor" aria-label="github icon" name="github" style="width:1.25rem;height:1.25rem;vertical-align:middle;"><path d="M511.957 21.333C241.024 21.333 21.333 240.981 21.333 512c0 216.832 140.544 400.725 335.574 465.664 24.49 4.395 32.256-10.07 32.256-23.083 0-11.69.256-44.245 0-85.205-136.448 29.61-164.736-64.64-164.736-64.64-22.315-56.704-54.4-71.765-54.4-71.765-44.587-30.464 3.285-29.824 3.285-29.824 49.195 3.413 75.179 50.517 75.179 50.517 43.776 75.008 114.816 53.333 142.762 40.79 4.523-31.66 17.152-53.377 31.19-65.537-108.971-12.458-223.488-54.485-223.488-242.602 0-53.547 19.114-97.323 50.517-131.67-5.035-12.33-21.93-62.293 4.779-129.834 0 0 41.258-13.184 134.912 50.346a469.803 469.803 0 0 1 122.88-16.554c41.642.213 83.626 5.632 122.88 16.554 93.653-63.488 134.784-50.346 134.784-50.346 26.752 67.541 9.898 117.504 4.864 129.834 31.402 34.347 50.474 78.123 50.474 131.67 0 188.586-114.73 230.016-224.042 242.09 17.578 15.232 33.578 44.672 33.578 90.454v135.85c0 13.142 7.936 27.606 32.854 22.87C862.25 912.597 1002.667 728.747 1002.667 512c0-271.019-219.648-490.667-490.71-490.667z"></path></svg></a></div><div class="vp-nav-item hide-in-mobile"><button type="button" class="vp-outlook-button" tabindex="-1" aria-hidden="true"><svg xmlns="http://www.w3.org/2000/svg" class="icon outlook-icon" viewBox="0 0 1024 1024" fill="currentColor" aria-label="outlook icon" name="outlook"><path d="M224 800c0 9.6 3.2 44.8 6.4 54.4 6.4 48-48 76.8-48 76.8s80 41.6 147.2 0 134.4-134.4 38.4-195.2c-22.4-12.8-41.6-19.2-57.6-19.2C259.2 716.8 227.2 761.6 224 800zM560 675.2l-32 51.2c-51.2 51.2-83.2 32-83.2 32 25.6 67.2 0 112-12.8 128 25.6 6.4 51.2 9.6 80 9.6 54.4 0 102.4-9.6 150.4-32l0 0c3.2 0 3.2-3.2 3.2-3.2 22.4-16 12.8-35.2 6.4-44.8-9.6-12.8-12.8-25.6-12.8-41.6 0-54.4 60.8-99.2 137.6-99.2 6.4 0 12.8 0 22.4 0 12.8 0 38.4 9.6 48-25.6 0-3.2 0-3.2 3.2-6.4 0-3.2 3.2-6.4 3.2-6.4 6.4-16 6.4-16 6.4-19.2 9.6-35.2 16-73.6 16-115.2 0-105.6-41.6-198.4-108.8-268.8C704 396.8 560 675.2 560 675.2zM224 419.2c0-28.8 22.4-51.2 51.2-51.2 28.8 0 51.2 22.4 51.2 51.2 0 28.8-22.4 51.2-51.2 51.2C246.4 470.4 224 448 224 419.2zM320 284.8c0-22.4 19.2-41.6 41.6-41.6 22.4 0 41.6 19.2 41.6 41.6 0 22.4-19.2 41.6-41.6 41.6C339.2 326.4 320 307.2 320 284.8zM457.6 208c0-12.8 12.8-25.6 25.6-25.6 12.8 0 25.6 12.8 25.6 25.6 0 12.8-12.8 25.6-25.6 25.6C470.4 233.6 457.6 220.8 457.6 208zM128 505.6C128 592 153.6 672 201.6 736c28.8-60.8 112-60.8 124.8-60.8-16-51.2 16-99.2 16-99.2l316.8-422.4c-48-19.2-99.2-32-150.4-32C297.6 118.4 128 291.2 128 505.6zM764.8 86.4c-22.4 19.2-390.4 518.4-390.4 518.4-22.4 28.8-12.8 76.8 22.4 99.2l9.6 6.4c35.2 22.4 80 12.8 99.2-25.6 0 0 6.4-12.8 9.6-19.2 54.4-105.6 275.2-524.8 288-553.6 6.4-19.2-3.2-32-19.2-32C777.6 76.8 771.2 80 764.8 86.4z"></path></svg><div class="vp-outlook-dropdown"><!----></div></button></div><!----><!--]--><!----><button type="button" class="vp-toggle-navbar-button" aria-label="Toggle Navbar" aria-expanded="false" aria-controls="nav-screen"><span><span class="vp-top"></span><span class="vp-middle"></span><span class="vp-bottom"></span></span></button></div></header><!----><!--]--><!----><div class="toggle-sidebar-wrapper"><span class="arrow start"></span></div><aside id="sidebar" class="vp-sidebar"><!----><ul class="vp-sidebar-links"><li><a class="route-link auto-link vp-sidebar-link" href="/" aria-label="DDBOT安装教程"><!--[--><span class="font-icon icon fa-fw fa-sm fas fa-home" style=""></span><!--]-->DDBOT安装教程<!----></a></li><li><section class="vp-sidebar-group"><button class="vp-sidebar-header clickable active" type="button"><span class="font-icon icon fa-fw fa-sm fas fa-laptop-code" style=""></span><span class="vp-sidebar-title">教程</span><span class="vp-arrow down"></span></button><ul class="vp-sidebar-links"><li><section class="vp-sidebar-group"><button class="vp-sidebar-header clickable active" type="button"><span class="font-icon icon fa-fw fa-sm fas fa-lightbulb" style=""></span><span class="vp-sidebar-title">QQNT+DDBOT</span><span class="vp-arrow down"></span></button><ul class="vp-sidebar-links"><li><a class="route-link auto-link vp-sidebar-link" href="/docs/QQNT_DDBOT/%E5%AE%89%E8%A3%85DDBOT/" aria-label="安装DDBOT"><!--[--><span class="font-icon icon fa-fw fa-sm fab fa-markdown" style=""></span><!--]-->安装DDBOT<!----></a></li><li><a class="route-link auto-link vp-sidebar-link" href="/docs/QQNT_DDBOT/%E8%BF%9E%E6%8E%A5DDBOT/" aria-label="连接DDBOT"><!--[--><span class="font-icon icon fa-fw fa-sm fab fa-markdown" style=""></span><!--]-->连接DDBOT<!----></a></li><li><a class="route-link auto-link vp-sidebar-link" href="/docs/QQNT_DDBOT/%E5%91%BD%E4%BB%A4%E6%8C%87%E5%8D%97/" aria-label="命令指南"><!--[--><span class="font-icon icon fa-fw fa-sm fab fa-markdown" style=""></span><!--]-->命令指南<!----></a></li><li><a class="route-link route-link-active auto-link vp-sidebar-link active" href="/docs/QQNT_DDBOT/%E6%A8%A1%E6%9D%BF/" aria-label="模板"><!--[--><span class="font-icon icon fa-fw fa-sm fab fa-markdown" style=""></span><!--]-->模板<!----></a></li></ul></section></li><li><section class="vp-sidebar-group"><button class="vp-sidebar-header clickable" type="button"><span class="font-icon icon fa-fw fa-sm fas fa-lightbulb" style=""></span><span class="vp-sidebar-title">原生DDBOT教程</span><span class="vp-arrow end"></span></button><!----></section></li></ul></section></li></ul><!----></aside><!--[--><main id="main-content" class="vp-page"><!--[--><!----><!----><nav class="vp-breadcrumb disable"></nav><div class="vp-page-title"><h1><span class="font-icon icon fa-fw fa-sm fab fa-markdown" style=""></span>模板</h1><div class="page-info"><span class="page-author-info" aria-label="作者🖊" data-balloon-pos="up"><svg xmlns="http://www.w3.org/2000/svg" class="icon author-icon" viewBox="0 0 1024 1024" fill="currentColor" aria-label="author icon" name="author"><path d="M649.6 633.6c86.4-48 147.2-144 147.2-249.6 0-160-128-288-288-288s-288 128-288 288c0 108.8 57.6 201.6 147.2 249.6-121.6 48-214.4 153.6-240 288-3.2 9.6 0 19.2 6.4 25.6 3.2 9.6 12.8 12.8 22.4 12.8h704c9.6 0 19.2-3.2 25.6-12.8 6.4-6.4 9.6-16 6.4-25.6-25.6-134.4-121.6-240-243.2-288z"></path></svg><span><a class="page-author-item" href="https://gitee.com/rock8526652" target="_blank" rel="noopener noreferrer">晴风</a></span><span property="author" content="晴风"></span></span><!----><span class="page-date-info" aria-label="写作日期📅" data-balloon-pos="up"><svg xmlns="http://www.w3.org/2000/svg" class="icon calendar-icon" viewBox="0 0 1024 1024" fill="currentColor" aria-label="calendar icon" name="calendar"><path d="M716.4 110.137c0-18.753-14.72-33.473-33.472-33.473-18.753 0-33.473 14.72-33.473 33.473v33.473h66.993v-33.473zm-334.87 0c0-18.753-14.72-33.473-33.473-33.473s-33.52 14.72-33.52 33.473v33.473h66.993v-33.473zm468.81 33.52H716.4v100.465c0 18.753-14.72 33.473-33.472 33.473a33.145 33.145 0 01-33.473-33.473V143.657H381.53v100.465c0 18.753-14.72 33.473-33.473 33.473a33.145 33.145 0 01-33.473-33.473V143.657H180.6A134.314 134.314 0 0046.66 277.595v535.756A134.314 134.314 0 00180.6 947.289h669.74a134.36 134.36 0 00133.94-133.938V277.595a134.314 134.314 0 00-133.94-133.938zm33.473 267.877H147.126a33.145 33.145 0 01-33.473-33.473c0-18.752 14.72-33.473 33.473-33.473h736.687c18.752 0 33.472 14.72 33.472 33.473a33.145 33.145 0 01-33.472 33.473z"></path></svg><span><!----></span><meta property="datePublished" content="2025-05-29T07:03:18.000Z"></span><!----><span class="page-reading-time-info" aria-label="阅读时间⌛" data-balloon-pos="up"><svg xmlns="http://www.w3.org/2000/svg" class="icon timer-icon" viewBox="0 0 1024 1024" fill="currentColor" aria-label="timer icon" name="timer"><path d="M799.387 122.15c4.402-2.978 7.38-7.897 7.38-13.463v-1.165c0-8.933-7.38-16.312-16.312-16.312H256.33c-8.933 0-16.311 7.38-16.311 16.312v1.165c0 5.825 2.977 10.874 7.637 13.592 4.143 194.44 97.22 354.963 220.201 392.763-122.204 37.542-214.893 196.511-220.2 389.397-4.661 5.049-7.638 11.651-7.638 19.03v5.825h566.49v-5.825c0-7.379-2.849-13.981-7.509-18.9-5.049-193.016-97.867-351.985-220.2-389.527 123.24-37.67 216.446-198.453 220.588-392.892zM531.16 450.445v352.632c117.674 1.553 211.787 40.778 211.787 88.676H304.097c0-48.286 95.149-87.382 213.728-88.676V450.445c-93.077-3.107-167.901-81.297-167.901-177.093 0-8.803 6.99-15.793 15.793-15.793 8.803 0 15.794 6.99 15.794 15.793 0 80.261 63.69 145.635 142.01 145.635s142.011-65.374 142.011-145.635c0-8.803 6.99-15.793 15.794-15.793s15.793 6.99 15.793 15.793c0 95.019-73.789 172.82-165.96 177.093z"></path></svg><span>大约 20 分钟</span><meta property="timeRequired" content="PT20M"></span><!----><!----></div><hr></div><div class="vp-toc-placeholder"><aside id="toc"><!----><div class="vp-toc-header">此页内容<button type="button" class="print-button" title="打印"><svg xmlns="http://www.w3.org/2000/svg" class="icon print-icon" viewBox="0 0 1024 1024" fill="currentColor" aria-label="print icon" name="print"><path d="M819.2 364.8h-44.8V128c0-17.067-14.933-32-32-32H281.6c-17.067 0-32 14.933-32 32v236.8h-44.8C145.067 364.8 96 413.867 96 473.6v192c0 59.733 49.067 108.8 108.8 108.8h44.8V896c0 17.067 14.933 32 32 32h460.8c17.067 0 32-14.933 32-32V774.4h44.8c59.733 0 108.8-49.067 108.8-108.8v-192c0-59.733-49.067-108.8-108.8-108.8zM313.6 160h396.8v204.8H313.6V160zm396.8 704H313.6V620.8h396.8V864zM864 665.6c0 25.6-19.2 44.8-44.8 44.8h-44.8V588.8c0-17.067-14.933-32-32-32H281.6c-17.067 0-32 14.933-32 32v121.6h-44.8c-25.6 0-44.8-19.2-44.8-44.8v-192c0-25.6 19.2-44.8 44.8-44.8h614.4c25.6 0 44.8 19.2 44.8 44.8v192z"></path></svg></button><div class="arrow end"></div></div><div class="vp-toc-wrapper"><ul class="vp-toc-list"><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level3" href="#ddbot-模板介绍">DDBOT 模板介绍</a></li><!----><!--]--><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level2" href="#当前支持的命令模板">当前支持的命令模板</a></li><!----><!--]--><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level2" href="#当前支持的推送模板">当前支持的推送模板</a></li><!----><!--]--><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level2" href="#当前支持的事件模板">当前支持的事件模板</a></li><!----><!--]--></ul><div class="vp-toc-marker" style="top:-1.7rem;"></div></div><!----></aside></div><!----><div class="theme-hope-content"><h3 id="ddbot-模板介绍" tabindex="-1"><a class="header-anchor" href="#ddbot-模板介绍"><span>DDBOT 模板介绍</span></a></h3><p>DDBOT的模板大致与GO标准库 <code>text/template</code> 与相同，想深入了解请参考<a href="https://pkg.go.dev/text/template" target="_blank" rel="noopener noreferrer">官方文档</a> 。</p><p>注：DDBOT模板从<code>v1.0.5</code>版本开始支持**</p><h4 id="配置" tabindex="-1"><a class="header-anchor" href="#配置"><span>配置</span></a></h4><p>DDBOT默认不启用自定义模板，当需要使用时，需要修改配置文件 <code>application.yaml</code> ，在其中增加一段配置，并且重启bot：</p><div class="language- line-numbers-mode" data-highlighter="shiki" data-ext="" data-title="" style="--shiki-light:#24292e;--shiki-dark:#abb2bf;--shiki-light-bg:#fff;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes github-light one-dark-pro vp-code"><code><span class="line"><span>template:</span></span>
<span class="line"><span>  enable: true</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div></div></div><p>如果配置成功，启动时将显示日志信息：<code>已启用模板</code> 。</p><p>配置成功后，DDBOT将会自动创建一个 <code>template</code> 文件夹，用于存放所有的模板文件。</p><p>DDBOT会 <strong>监控</strong> 该文件夹目录，这意味着对模板的创建/修改/删除等操作，无需重启BOT即可生效，DDBOT会自动使用最新的模板。</p><h4 id="认识模板" tabindex="-1"><a class="header-anchor" href="#认识模板"><span>认识模板</span></a></h4><p>模板是 <code>template</code> 文件夹下的一个文件，后缀名为 <code>.tmpl</code> 。</p><p>它是一个文本文件，可以使用文本编辑器进行编辑，它的文件名即是模板的名字，它的内容即是模板的内容。</p><h5 id="文字模板" tabindex="-1"><a class="header-anchor" href="#文字模板"><span>文字模板</span></a></h5><p><em>创建一个模板，编辑其内容为:</em></p><div class="language- line-numbers-mode" data-highlighter="shiki" data-ext="" data-title="" style="--shiki-light:#24292e;--shiki-dark:#abb2bf;--shiki-light-bg:#fff;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes github-light one-dark-pro vp-code"><code><span class="line"><span>这是一段文字，也是一段模板</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><p><em>该模板将发送为：</em></p><img src="https://user-images.githubusercontent.com/11474360/161202913-63f2064d-de49-4d54-b1d8-748b62b91294.jpg" width="300"><h4 id="模板的高级功能" tabindex="-1"><a class="header-anchor" href="#模板的高级功能"><span>模板的高级功能</span></a></h4><p>在模板中，所有的 <code>{{ ..... }}</code> 都有特殊意义，例如：</p><ul><li><h4 id="使用-pic-uri-发送图片" tabindex="-1"><a class="header-anchor" href="#使用-pic-uri-发送图片"><span>使用 <code>{{ pic &quot;uri&quot; }}</code> 发送图片：</span></a></h4></li></ul><p><em>创建一个模板，编辑其内容为：</em></p><div class="language- line-numbers-mode" data-highlighter="shiki" data-ext="" data-title="" style="--shiki-light:#24292e;--shiki-dark:#abb2bf;--shiki-light-bg:#fff;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes github-light one-dark-pro vp-code"><code><span class="line"><span>发送一张图片 {{ pic &quot;https://i2.hdslb.com/bfs/face/0bd7082c8c9a14ef460e64d5f74ee439c16c0e88.jpg&quot; }}</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><p><em>该模板将发送为：</em></p><img src="https://user-images.githubusercontent.com/11474360/161203028-e53a4fe0-c8ca-4e3e-a098-45c1f7ea78c9.jpg" width="300"><p>在这个例子中，使用了一个模板函数 <code>pic</code> ，它可以用来发送一张图片。</p><ul><li><h4 id="使用-cut-发送分段消息" tabindex="-1"><a class="header-anchor" href="#使用-cut-发送分段消息"><span>使用 <code>{{ cut }}</code> 发送分段消息：</span></a></h4></li></ul><p><em>创建一个模板，编辑其内容为：</em></p><div class="language- line-numbers-mode" data-highlighter="shiki" data-ext="" data-title="" style="--shiki-light:#24292e;--shiki-dark:#abb2bf;--shiki-light-bg:#fff;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes github-light one-dark-pro vp-code"><code><span class="line"><span>一、啦啦啦</span></span>
<span class="line"><span>{{- cut -}}</span></span>
<span class="line"><span>二、啦啦啦</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><em>该模板将发送为：</em></p><img src="https://user-images.githubusercontent.com/11474360/161203068-0d26024f-37e6-4a04-b88e-cfedd0235924.jpg" width="300"><p>在这个例子中，使用了一个模板函数 <code>cut</code> ，它可以用来切分消息。</p><p><em>请注意括号内的短横线 <code>-</code> 符号，它的作用是控制前后换行符</em> 。</p><ul><li><h4 id="使用模板变量" tabindex="-1"><a class="header-anchor" href="#使用模板变量"><span>使用模板变量：</span></a></h4></li></ul><p><code>.</code> 符号表示引用一个模板变量， <strong>根据模板应用的场合，能够使用的模板变量也不尽相同</strong> 。</p><p>例如：当自定义 <code>/签到</code> 命令模板时，能够使用 <code>.score</code> 变量与 <code>.success</code> 变量。</p><p><em>创建一个模板，编辑其内容为：</em></p><div class="language- line-numbers-mode" data-highlighter="shiki" data-ext="" data-title="" style="--shiki-light:#24292e;--shiki-dark:#abb2bf;--shiki-light-bg:#fff;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes github-light one-dark-pro vp-code"><code><span class="line"><span>{{- reply .msg -}}</span></span>
<span class="line"><span>{{ if .success -}}</span></span>
<span class="line"><span>签到大大大大大成功！获得1只萝莉，当前拥有{{.score}}只萝莉</span></span>
<span class="line"><span>{{- else -}}</span></span>
<span class="line"><span>明天再来吧，当前拥有{{.score}}只萝莉</span></span>
<span class="line"><span>{{- end }}</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><em>该模板将发送为：</em></p><img src="https://user-images.githubusercontent.com/11474360/161203356-84f28ac5-a883-4213-92ed-3c03ad2e524e.jpg" width="300"><p>这个例子还展示了 <strong>回复消息语法</strong> ： <code>{{- reply .msg -}}</code> 以及模板的 <strong>条件控制语法</strong> ： <code>{{if}} {{else}} {{end}}</code></p><h4 id="通过模板创建自定义命令回复" tabindex="-1"><a class="header-anchor" href="#通过模板创建自定义命令回复"><span>通过模板创建自定义命令回复</span></a></h4><p>得益于模板的高度定制化能力，DDBOT现在支持通过模板发送消息的自定义命令：</p><p>例如可以创建一个 <code>/群主女装</code> 命令，并让这个命令发送定义在模板内的群主女装照。</p><p>首先需要在配置文件 <code>application.yaml</code> 中定义命令：</p><div class="language- line-numbers-mode" data-highlighter="shiki" data-ext="" data-title="" style="--shiki-light:#24292e;--shiki-dark:#abb2bf;--shiki-light-bg:#fff;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes github-light one-dark-pro vp-code"><code><span class="line"><span>autoreply:</span></span>
<span class="line"><span>  group:</span></span>
<span class="line"><span>    command: [ &quot;群命令1&quot;, &quot;群命令2&quot; ]</span></span>
<span class="line"><span>  private:</span></span>
<span class="line"><span>    command: [ &quot;私聊命令1&quot;, &quot;私聊命令2&quot; ]</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>在上面这段配置中，自定义了两个群命令 <code>/群命令1</code> 和 <code>/群命令2</code> ，两个私聊命令 <code>/私聊命令1</code> 和 <code>/私聊命令2</code> 。</p><p>完成后需要创建对应的模板文件：</p><ul><li><code>custom.command.group.群命令1.tmpl</code></li><li><code>custom.command.group.群命令2.tmpl</code></li><li><code>custom.command.private.私聊命令1.tmpl</code></li><li><code>custom.command.private.私聊命令2.tmpl</code></li></ul><p>当触发 <code>/群命令1</code> 的时候，则会自动发送模板消息 <code>custom.command.group.群命令1.tmpl</code> 。</p><p>当触发 <code>/私聊命令1</code> 的时候，则会自动发送模板消息 <code>custom.command.private.私聊命令1.tmpl</code> 。</p><p>其他命令也遵守这个规则。</p><h4 id="通过模板创建定时消息" tabindex="-1"><a class="header-anchor" href="#通过模板创建定时消息"><span>通过模板创建定时消息</span></a></h4><p>DDBOT现在支持通过模板发送消息的定时命令：</p><p>首先需要在配置文件 <code>application.yaml</code> 中定义定时消息：</p><div class="language- line-numbers-mode" data-highlighter="shiki" data-ext="" data-title="" style="--shiki-light:#24292e;--shiki-dark:#abb2bf;--shiki-light-bg:#fff;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes github-light one-dark-pro vp-code"><code><span class="line"><span>cronjob:</span></span>
<span class="line"><span>  - cron: &quot;* * * * *&quot;</span></span>
<span class="line"><span>    templateName: &quot;定时1&quot;</span></span>
<span class="line"><span>    target:</span></span>
<span class="line"><span>      private: [ 123 ]</span></span>
<span class="line"><span>      group: [ ]</span></span>
<span class="line"><span>  - cron: &quot;0 * * * *&quot;</span></span>
<span class="line"><span>    templateName: &quot;定时2&quot;</span></span>
<span class="line"><span>    target:</span></span>
<span class="line"><span>      private: [ ]</span></span>
<span class="line"><span>      group: [ 456 ]</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>在上面这段配置中，自定义了两条定时消息，完成后需要创建对应的模板文件：</p><ul><li><code>custom.cronjob.定时1.tmpl</code></li><li><code>custom.cronjob.定时2.tmpl</code></li></ul><p>定时消息的定时条件使用 <code>cron表达式</code> 定义，可以在<a href="https://tool.lu/crontab/" target="_blank" rel="noopener noreferrer">工具网站</a>上选择 <code>类型：Linux</code> 编辑和测试Cron表达式。</p><p>DDBOT使用五个字段的Cron表达式，这意味着最小的定时粒度为 <code>1分钟</code> 。</p><p>完成配置后， <code>定时1</code> 会每分钟触发一次，触发时会私聊QQ号为123发送消息模板 <code>custom.cronjob.定时1.tmpl</code> 。</p><p><code>定时2</code> 会每小时触发一次，触发时会在QQ群456内发送消息模板 <code>custom.cronjob.定时2.tmpl</code> 。</p><h4 id="ddbot新增的模板函数" tabindex="-1"><a class="header-anchor" href="#ddbot新增的模板函数"><span>DDBOT新增的模板函数</span></a></h4><ul><li><h4 id="cut" tabindex="-1"><a class="header-anchor" href="#cut"><span><code>{{- cut -}}</code></span></a></h4></li></ul><p>用于发送分段消息，上面已介绍过</p><ul><li><h4 id="reply-msg" tabindex="-1"><a class="header-anchor" href="#reply-msg"><span><code>{{ reply .msg }}</code></span></a></h4></li></ul><p>用于回复消息，上面已介绍过</p><ul><li><h4 id="prefix" tabindex="-1"><a class="header-anchor" href="#prefix"><span><code>{{ prefix }}</code></span></a></h4></li></ul><p>引用配置中的command prefix，默认为 <code>/</code></p><ul><li><h4 id="pic-图片地址" tabindex="-1"><a class="header-anchor" href="#pic-图片地址"><span><code>{{ pic &quot;图片地址&quot; }}</code></span></a></h4></li></ul><p>用于发送图片，支持 <code>http/https</code> 链接，以及本地路径。</p><p>图片格式支持 jpg / png / gif。</p><p><em>如果路径是一个文件夹，则会在文件夹内随机选择一张图片。</em></p><ul><li><h4 id="roll-a-b" tabindex="-1"><a class="header-anchor" href="#roll-a-b"><span><code>{{ roll a b }}</code></span></a></h4></li></ul><p>在a ~ b范围内中随机一个数字，a b 返回值均为int64类型。</p><ul><li><h4 id="choose-a-b-c" tabindex="-1"><a class="header-anchor" href="#choose-a-b-c"><span><code>{{ choose &quot;a&quot; &quot;b&quot; &quot;c&quot; }}</code></span></a></h4></li></ul><p>从传入的参数中随机返回一个，参数类型为string，支持变长参数。</p><p><em>以下为v1.0.6新增</em></p><ul><li><h4 id="at-123456" tabindex="-1"><a class="header-anchor" href="#at-123456"><span><code>{{ at 123456 }}</code></span></a></h4></li></ul><p>发送@指定的qq号</p><ul><li><h4 id="icon-123456" tabindex="-1"><a class="header-anchor" href="#icon-123456"><span><code>{{ icon 123456 }}</code></span></a></h4></li></ul><p>发送指定qq号的头像</p><p><em>以下为v1.0.7新增</em></p><ul><li><h4 id="hour" tabindex="-1"><a class="header-anchor" href="#hour"><span><code>{{ hour }}</code></span></a></h4></li></ul><p>返回当前时间的小时数, 范围为[0, 23]，类型为int</p><ul><li><h4 id="minute" tabindex="-1"><a class="header-anchor" href="#minute"><span><code>{{ minute }}</code></span></a></h4></li></ul><p>返回当前时间的分钟数，范围为[0, 59]，类型int</p><ul><li><h4 id="second" tabindex="-1"><a class="header-anchor" href="#second"><span><code>{{ second }}</code></span></a></h4></li></ul><p>返回当前时间的秒数，范围为[0, 59]，类型为int</p><ul><li><h4 id="month" tabindex="-1"><a class="header-anchor" href="#month"><span><code>{{ month }}</code></span></a></h4></li></ul><p>返回当前时间的月份，范围为[1,12]，类型为int</p><ul><li><h4 id="year" tabindex="-1"><a class="header-anchor" href="#year"><span><code>{{ year }}</code></span></a></h4></li></ul><p>返回当前时间的年份，类型为int</p><ul><li><h4 id="day" tabindex="-1"><a class="header-anchor" href="#day"><span><code>{{ day }}</code></span></a></h4></li></ul><p>返回当前时间为当月的第几天，类型为int</p><ul><li><h4 id="yearday" tabindex="-1"><a class="header-anchor" href="#yearday"><span><code>{{ yearday }}</code></span></a></h4></li></ul><p>返回当前时间为当年的第几天，闰年范围为[1,366]，非闰年范围为[1,365]，类型为int</p><p><em>以下为v1.0.8新增</em></p><ul><li><h4 id="weekday" tabindex="-1"><a class="header-anchor" href="#weekday"><span><code>{{ weekday }}</code></span></a></h4></li></ul><p>返回当前时间是本周的第几天，1~7分别表示周一至周日，范围为[1,7]，类型为int</p><ul><li><h4 id="变量-at-targets" tabindex="-1"><a class="header-anchor" href="#变量-at-targets"><span>变量 <code>{{ .at_targets }}</code></span></a></h4></li></ul><p>自定义命令现在支持@成员， 可以通过 <code>{{ .at_targets }}</code> 来获取本次命令触发时@的成员的QQ号。</p><p>该变量为数组类型，可以搭配 <code>len</code> 和 <code>index</code> 等命令使用，例如：</p><div class="language- line-numbers-mode" data-highlighter="shiki" data-ext="" data-title="" style="--shiki-light:#24292e;--shiki-dark:#abb2bf;--shiki-light-bg:#fff;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes github-light one-dark-pro vp-code"><code><span class="line"><span>{{- if gt (len .at_targets) 0 -}}</span></span>
<span class="line"><span>你@了{{ index .at_targets 0}}</span></span>
<span class="line"><span>{{- else -}}</span></span>
<span class="line"><span>请@TA使用命令喵</span></span>
<span class="line"><span>{{- end -}}</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ul><li><h4 id="获取群成员信息-member-info-group-code-member-code" tabindex="-1"><a class="header-anchor" href="#获取群成员信息-member-info-group-code-member-code"><span>获取群成员信息 <code>{{ member_info .group_code .member_code }}</code></span></a></h4></li></ul><p>获取群成员信息，.at_targets中的qq号可以搭配这个命令来获取被@的成员的信息，例如：</p><div class="language- line-numbers-mode" data-highlighter="shiki" data-ext="" data-title="" style="--shiki-light:#24292e;--shiki-dark:#abb2bf;--shiki-light-bg:#fff;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes github-light one-dark-pro vp-code"><code><span class="line"><span>{{- if gt (len .at_targets) 0 -}}</span></span>
<span class="line"><span>	{{- $t := index .at_targets 0 -}}</span></span>
<span class="line"><span>	{{- $info := member_info .group_code $t -}}</span></span>
<span class="line"><span>	你@了{{- $info.name }}</span></span>
<span class="line"><span>{{ $info.name }} 的性别是 {{ if eq $info.gender 2 }}男生{{ else if eq $info.gender 1 }}女生{{else}}秘密{{end}} 喵</span></span>
<span class="line"><span>{{- else -}}</span></span>
<span class="line"><span>请@TA使用命令喵</span></span>
<span class="line"><span>{{- end -}}</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>返回结果中可以使用的信息有：</p><p><code>name</code> ：成员的群聊名字，如果没有设置，就是QQ资料名字</p><p><code>gender</code> ：QQ资料性别，2表示男生，1表示女生，0表示未公开</p><p><code>permission</code> ：QQ群权限，10表示群主，5表示管理员，1表示普通成员</p><ul><li><h4 id="带权重的-choose" tabindex="-1"><a class="header-anchor" href="#带权重的-choose"><span>带权重的 <code>choose</code></span></a></h4></li></ul><p>现在 <code>choose</code> 的每个元素后面支持一个可选的权重参数（必须是大于0的整数，如果省略则默认为1），进行随机时，将尊重权重设置，例如：</p><div class="language- line-numbers-mode" data-highlighter="shiki" data-ext="" data-title="" style="--shiki-light:#24292e;--shiki-dark:#abb2bf;--shiki-light-bg:#fff;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes github-light one-dark-pro vp-code"><code><span class="line"><span>{{ choose &quot;a&quot;  &quot;b&quot; 1 &quot;c&quot; 5 }}</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><p>在上面的结果中，结果是&quot;c&quot;的概率将是&quot;a&quot;和&quot;b&quot;的5倍，&quot;a&quot;和&quot;b&quot;的概率相同（&quot;a&quot;的权重省略默认为1，b&quot;的权重1也可以省略）。</p><p>数值上说，选中&quot;c&quot;的概率是 $\frac{5}{7}$，</p><p>选中&quot;a&quot;和&quot;b&quot;的概率分别是 $\frac{1}{7}$。</p><p>感觉上来说就像写了5次&quot;c&quot;。</p><ul><li><h4 id="完整文字参数-full-args" tabindex="-1"><a class="header-anchor" href="#完整文字参数-full-args"><span>完整文字参数 <code>{{ .full_args }}</code></span></a></h4></li></ul><p>返回本次命令触发时附带的完整文字参数，与 <code>{{.args}}</code> 的区别是：它不是一个数组，而是包含文字和空格的完整参数。</p><p>例如，当触发命令 <code>/test a b c</code> 时：</p><p><code>{{.args}}</code> 的内容是一个数组 <code>[]string{&quot;a&quot;, &quot;b&quot;, &quot;c&quot;}</code> ，需要配合 <code>index</code> 等命令使用。</p><p><code>{{ .full_args }}</code> 的内容是&quot;a b c&quot;，它是一个字符串而非数组。</p><ul><li><h4 id="一组类型转换函数" tabindex="-1"><a class="header-anchor" href="#一组类型转换函数"><span>一组类型转换函数</span></a></h4></li></ul><details><summary>点击查看详情</summary><ul><li><h4 id="float64-123" tabindex="-1"><a class="header-anchor" href="#float64-123"><span><code>{{ float64 123 }}</code></span></a></h4></li></ul><p>转换参数为 <code>float64</code> 类型</p><ul><li><h4 id="int-123" tabindex="-1"><a class="header-anchor" href="#int-123"><span><code>{{ int 123 }}</code></span></a></h4></li></ul><p>转换参数为 <code>int</code> 类型</p><p><em>int在32位和64位下表现不一致</em></p><ul><li><h4 id="int64-123" tabindex="-1"><a class="header-anchor" href="#int64-123"><span><code>{{ int64 123}}</code></span></a></h4></li></ul><p>转换参数为 <code>int64</code> 类型</p><ul><li><h4 id="tostring-123" tabindex="-1"><a class="header-anchor" href="#tostring-123"><span><code>{{ toString 123 }}</code></span></a></h4></li></ul><p>转换参数为 <code>string</code> 类型</p></details><ul><li><h4 id="一组数学函数" tabindex="-1"><a class="header-anchor" href="#一组数学函数"><span>一组数学函数</span></a></h4></li></ul><details><summary>点击查看详情</summary><p>函数名字末尾带 <strong>f</strong> 的表示它返回值是 <code>float64</code> ，不带 <strong>f</strong> 的返回值为 <code>int64</code></p><ul><li><h4 id="add-addf" tabindex="-1"><a class="header-anchor" href="#add-addf"><span>add / addf</span></a></h4></li></ul><p><code>{{ add 1 2}}</code> 计算加法</p><ul><li><h4 id="sub-subf" tabindex="-1"><a class="header-anchor" href="#sub-subf"><span>sub / subf</span></a></h4></li></ul><p><code>{{ sub 1 2}}</code> 计算减法</p><ul><li><h4 id="mul-mulf" tabindex="-1"><a class="header-anchor" href="#mul-mulf"><span>mul / mulf</span></a></h4></li></ul><p><code>{{ mul 2 2 }}</code> 计算乘法</p><ul><li><h4 id="div-divf" tabindex="-1"><a class="header-anchor" href="#div-divf"><span>div / divf</span></a></h4></li></ul><p><code>{{ div 10 5 }}</code> 计算除法</p><ul><li><h4 id="mod-modf" tabindex="-1"><a class="header-anchor" href="#mod-modf"><span>mod / modf</span></a></h4></li></ul><p><code>{{ mod 10 5 }}</code> 计算余数</p></details><ul><li><h4 id="一组最值函数" tabindex="-1"><a class="header-anchor" href="#一组最值函数"><span>一组最值函数</span></a></h4></li></ul><details><summary>点击查看详情</summary><p>函数名字末尾带<strong>f</strong>的表示它返回值是 <code>float64</code> ，不带 <strong>f</strong> 的返回值为 <code>int64</code></p><ul><li><h4 id="max-maxf" tabindex="-1"><a class="header-anchor" href="#max-maxf"><span>max / maxf</span></a></h4></li></ul><p><code>{{ max 1 2 3 4 5 }}</code> 返回最大值</p><ul><li><h4 id="min-minf" tabindex="-1"><a class="header-anchor" href="#min-minf"><span>min / minf</span></a></h4></li></ul><p><code>{{ min 1 2 3 4 5 }}</code> 返回最小值</p></details><ul><li><h4 id="一组哈希函数" tabindex="-1"><a class="header-anchor" href="#一组哈希函数"><span>一组哈希函数</span></a></h4></li></ul><details><summary>点击查看详情</summary><ul><li><h4 id="base64encode" tabindex="-1"><a class="header-anchor" href="#base64encode"><span>base64encode</span></a></h4></li></ul><p><code>{{ base64encode &quot;hello world&quot; }}</code> base64的加密</p><ul><li><h4 id="base64decode" tabindex="-1"><a class="header-anchor" href="#base64decode"><span>base64decode</span></a></h4></li></ul><p><code>{{ base64decode &quot;aGVsbG8gd29ybGQ=&quot; }}</code> base64的解密</p><ul><li><h4 id="md5sum" tabindex="-1"><a class="header-anchor" href="#md5sum"><span>md5sum</span></a></h4></li></ul><p><code>{{ md5sum &quot;hello world&quot; }}</code> md5加密</p><ul><li><h4 id="sha1sum" tabindex="-1"><a class="header-anchor" href="#sha1sum"><span>sha1sum</span></a></h4></li></ul><p><code>{{ sha1sum &quot;hello world&quot; }}</code> sha1加密</p><ul><li><h4 id="sha256sum" tabindex="-1"><a class="header-anchor" href="#sha256sum"><span>sha256sum</span></a></h4></li></ul><p><code>{{ sha256sum &quot;hellow world&quot; }}</code> sha256sum加密</p><ul><li><h4 id="adler32sum" tabindex="-1"><a class="header-anchor" href="#adler32sum"><span>adler32sum</span></a></h4></li></ul><p><code>{{ adler32sum &quot;hellow world&quot; }}</code> adler32sum加密</p><ul><li><h4 id="uuid" tabindex="-1"><a class="header-anchor" href="#uuid"><span>uuid</span></a></h4></li></ul><p><code>{{ uuid }}</code> 生成一个UUID</p></details><ul><li><h4 id="一组字符串函数" tabindex="-1"><a class="header-anchor" href="#一组字符串函数"><span>一组字符串函数</span></a></h4></li></ul><details><summary>点击查看详情</summary><ul><li><h4 id="hasprefix" tabindex="-1"><a class="header-anchor" href="#hasprefix"><span>hasPrefix</span></a></h4></li></ul><p><code>{{ hasPrefix &quot;aaa&quot; &quot;aaabcd&quot; }}</code> 检查字符串是否有指定前缀</p><ul><li><h4 id="hassuffix" tabindex="-1"><a class="header-anchor" href="#hassuffix"><span>hasSuffix</span></a></h4></li></ul><p><code>{{ hasSuffix &quot;aaa&quot; &quot;bcdaaa&quot; }}</code> 检查字符串是否有指定后缀</p><ul><li><h4 id="contains" tabindex="-1"><a class="header-anchor" href="#contains"><span>contains</span></a></h4></li></ul><p><code>{{ contains &quot;aaa&quot; &quot;bcdaaabcd&quot; }}</code> 检查字符串是否包含一个子字符串</p><ul><li><h4 id="trim" tabindex="-1"><a class="header-anchor" href="#trim"><span>trim</span></a></h4></li></ul><p><code>{{ trim &quot; aaa &quot; }}</code> 去掉字符串前后的空白字符</p><ul><li><h4 id="trimsuffix" tabindex="-1"><a class="header-anchor" href="#trimsuffix"><span>trimSuffix</span></a></h4></li></ul><p><code>{{ trimSuffix &quot;aaa&quot; &quot;bcdaaa&quot; }}</code> 去掉字符串的指定后缀，如果字符串没有指定后缀，则无效果</p><ul><li><h4 id="trimprefix" tabindex="-1"><a class="header-anchor" href="#trimprefix"><span>trimPrefix</span></a></h4></li></ul><p><code>{{ trimPrefix &quot;aaa&quot; &quot;aaabcd&quot; }}</code> 去掉字符串的指定前缀，如果字符串没有指定前缀，则无效果</p><ul><li><h4 id="split" tabindex="-1"><a class="header-anchor" href="#split"><span>split</span></a></h4></li></ul><p><code>{{ split &quot; &quot; &quot;foo bar baz&quot; }}</code> 按照指定字符串分割字符串，返回一个list</p><ul><li><h4 id="join" tabindex="-1"><a class="header-anchor" href="#join"><span>join</span></a></h4></li></ul><p><code>{{ join &quot; &quot; (list &quot;foor&quot; &quot;bar&quot; &quot;baz&quot;) }}</code> 按照指定字符串拼接字符串，返回一个字符串</p><ul><li><h4 id="trunc" tabindex="-1"><a class="header-anchor" href="#trunc"><span>trunc</span></a></h4></li></ul><p><code>{{ trunc 2 &quot;abcde&quot; }}</code> 按照长度截取字符串，如果长度大于字符串，则返回整个字符串</p><ul><li><h4 id="upper" tabindex="-1"><a class="header-anchor" href="#upper"><span>upper</span></a></h4></li></ul><p><code>{{ upper &quot;abc&quot; }}</code> 把字符串中所有英文字母改成大写</p><ul><li><h4 id="lower" tabindex="-1"><a class="header-anchor" href="#lower"><span>lower</span></a></h4></li></ul><p><code>{{ lower &quot;ABC&quot; }}</code> 把字符串中所有英文字母改成小写</p><ul><li><h4 id="title" tabindex="-1"><a class="header-anchor" href="#title"><span>title</span></a></h4></li></ul><p><code>{{ title &quot;hello world&quot; }}</code> 把字符串中的英文单词改为首字母大写</p><ul><li><h4 id="snakecase" tabindex="-1"><a class="header-anchor" href="#snakecase"><span>snakecase</span></a></h4></li></ul><p><code>{{ snakecase &quot;FirstName&quot; }}</code> 把字符串中所有命名改成蛇形命名法</p><ul><li><h4 id="camelcase" tabindex="-1"><a class="header-anchor" href="#camelcase"><span>camelcase</span></a></h4></li></ul><p><code>{{ camelcase &quot;first_name&quot; }}</code> 把字符串中所有命名改成驼峰式命名法</p></details><ul><li><h4 id="一组默认值与空值函数" tabindex="-1"><a class="header-anchor" href="#一组默认值与空值函数"><span>一组默认值与空值函数</span></a></h4></li></ul><details><summary>点击查看详情</summary><ul><li><h4 id="empty" tabindex="-1"><a class="header-anchor" href="#empty"><span>empty</span></a></h4></li></ul><p><code>{{ if empty .args }}empty{{else}}not empty{{end}}</code> 检查变量是否是空值</p><ul><li><h4 id="nonempty" tabindex="-1"><a class="header-anchor" href="#nonempty"><span>nonEmpty</span></a></h4></li></ul><p><code>{{ if nonEmpty .args }}not empty{{else}}empty{{end}}</code> 检查变量是否不是空值</p><ul><li><h4 id="coalesce" tabindex="-1"><a class="header-anchor" href="#coalesce"><span>coalesce</span></a></h4></li></ul><p>返回第一个非空的值，支持变长参数，常用于设置默认值</p><div class="language- line-numbers-mode" data-highlighter="shiki" data-ext="" data-title="" style="--shiki-light:#24292e;--shiki-dark:#abb2bf;--shiki-light-bg:#fff;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes github-light one-dark-pro vp-code"><code><span class="line"><span>{{- $name := &quot;&quot; -}}</span></span>
<span class="line"><span>{{- $name = coalesce $name &quot;没有名字&quot; -}}</span></span>
<span class="line"><span>{{ $name }}</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ul><li>ternary</li></ul><p>三元运算符的语法糖，当第三个参数为true时返回第一个参数，否则返回第二个参数</p><p><code>{{ ternary &quot;有参数&quot; &quot;没有参数&quot; (nonEmpty .args)}}</code></p><ul><li>all</li></ul><p>检查参数是否全部非空，支持变长参数</p><p><code>{{ if all &quot;&quot; 0 1}}all is not empty{{end}}</code></p><ul><li>any</li></ul><p>检查参数是否有一个非空，支持变长参数</p><p><code>{{ if any &quot;&quot; 0 1}}someone is not empty{{end}}</code></p></details><ul><li>一组list函数</li></ul><details><summary>点击查看详情</summary><ul><li>list</li></ul><p><code>{{ list &quot;a&quot; &quot;b&quot; &quot;c&quot; }}</code> 创建一个list，返回创建的list</p><ul><li>append</li></ul><p>向list末尾添加一个元素，返回新的list</p><div class="language- line-numbers-mode" data-highlighter="shiki" data-ext="" data-title="" style="--shiki-light:#24292e;--shiki-dark:#abb2bf;--shiki-light-bg:#fff;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes github-light one-dark-pro vp-code"><code><span class="line"><span>{{ $old := list &quot;a&quot; &quot;b&quot; &quot;c&quot; }}</span></span>
<span class="line"><span>{{ $new := append $old &quot;d&quot; }}</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div></div></div><ul><li>prepend</li></ul><p>向list开头添加一个元素，返回新的list</p><div class="language- line-numbers-mode" data-highlighter="shiki" data-ext="" data-title="" style="--shiki-light:#24292e;--shiki-dark:#abb2bf;--shiki-light-bg:#fff;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes github-light one-dark-pro vp-code"><code><span class="line"><span>{{ $old := list &quot;a&quot; &quot;b&quot; &quot;c&quot; }}</span></span>
<span class="line"><span>{{ $new := prepend $old &quot;d&quot; }}</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div></div></div><ul><li>concat</li></ul><p>连接一组list，支持变长参数，返回新的list</p><div class="language- line-numbers-mode" data-highlighter="shiki" data-ext="" data-title="" style="--shiki-light:#24292e;--shiki-dark:#abb2bf;--shiki-light-bg:#fff;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes github-light one-dark-pro vp-code"><code><span class="line"><span>{{ $l1 := list &quot;a&quot; }}</span></span>
<span class="line"><span>{{ $l2 := list &quot;b&quot; }}</span></span>
<span class="line"><span>{{ $l3 := list &quot;c&quot; }}</span></span>
<span class="line"><span>{{ $new := concat $l1 $l2 $l3 }}</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div></details><ul><li>一组dict函数</li></ul><details><summary>点击查看详情</summary><ul><li>dict</li></ul><p><code>{{ dict &quot;a&quot; 1 &quot;b&quot; 2 &quot;c&quot; 3 }}</code> 创建一个dict，其中key必须是字符串类型，返回创建的dict：</p><ul><li>get</li></ul><p>从dict中获取值</p><div class="language- line-numbers-mode" data-highlighter="shiki" data-ext="" data-title="" style="--shiki-light:#24292e;--shiki-dark:#abb2bf;--shiki-light-bg:#fff;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes github-light one-dark-pro vp-code"><code><span class="line"><span>{{ $d := dict &quot;a&quot; 1 &quot;b&quot; 2 &quot;c&quot; 3 }}</span></span>
<span class="line"><span>{{ $value := get $d &quot;a&quot; }}</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div></div></div><ul><li>set</li></ul><p>设置dict的值，其中key必须是字符串类型，返回dict</p><div class="language- line-numbers-mode" data-highlighter="shiki" data-ext="" data-title="" style="--shiki-light:#24292e;--shiki-dark:#abb2bf;--shiki-light-bg:#fff;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes github-light one-dark-pro vp-code"><code><span class="line"><span>{{ $d := dict &quot;a&quot; 1 &quot;b&quot; 2 &quot;c&quot; 3 }}</span></span>
<span class="line"><span>{{ set $d &quot;a&quot; 100 }}</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div></div></div><ul><li>unset</li></ul><p>删除dict的值，返回dict</p><div class="language- line-numbers-mode" data-highlighter="shiki" data-ext="" data-title="" style="--shiki-light:#24292e;--shiki-dark:#abb2bf;--shiki-light-bg:#fff;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes github-light one-dark-pro vp-code"><code><span class="line"><span>{{ $d := dict &quot;a&quot; 1 &quot;b&quot; 2 &quot;c&quot; 3 }}</span></span>
<span class="line"><span>{{ unset $d &quot;a&quot; }}</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div></div></div><ul><li>hasKey</li></ul><p>检查dict中是否有指定key</p><div class="language- line-numbers-mode" data-highlighter="shiki" data-ext="" data-title="" style="--shiki-light:#24292e;--shiki-dark:#abb2bf;--shiki-light-bg:#fff;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes github-light one-dark-pro vp-code"><code><span class="line"><span>{{ $d := dict &quot;a&quot; 1 &quot;b&quot; 2 &quot;c&quot; 3 }}</span></span>
<span class="line"><span>{{ if hasKey $d &quot;a&quot; }}Yes.{{ end }}</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div></div></div><ul><li>merge</li></ul><p>合并dict，支持变长参数，不会覆盖已经存在的key，如果需要覆盖，请使用<code>mergeOverwrite</code></p><p>返回合并后的dict</p><div class="language- line-numbers-mode" data-highlighter="shiki" data-ext="" data-title="" style="--shiki-light:#24292e;--shiki-dark:#abb2bf;--shiki-light-bg:#fff;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes github-light one-dark-pro vp-code"><code><span class="line"><span>{{ $d1 := dict &quot;a&quot; 1 &quot;b&quot; 2 &quot;c&quot; 3 }}</span></span>
<span class="line"><span>{{ $d2 := dict &quot;a&quot; 2 &quot;b&quot; 3 &quot;c&quot; 4 }}</span></span>
<span class="line"><span>{{ $d3 := merge $d1 $d2 }}</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ul><li>mergeOverwrite</li></ul><p>合并dict，支持变长参数，会覆盖已经存在的key</p><p>返回合并后的dict</p><div class="language- line-numbers-mode" data-highlighter="shiki" data-ext="" data-title="" style="--shiki-light:#24292e;--shiki-dark:#abb2bf;--shiki-light-bg:#fff;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes github-light one-dark-pro vp-code"><code><span class="line"><span>{{ $d1 := dict &quot;a&quot; 1 &quot;b&quot; 2 &quot;c&quot; 3 }}</span></span>
<span class="line"><span>{{ $d2 := dict &quot;a&quot; 2 &quot;b&quot; 3 &quot;c&quot; 4 }}</span></span>
<span class="line"><span>{{ $d3 := mergeOverwrite $d1 $d2 }}</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ul><li>pick</li></ul><p>从dict中取出指定的key创建新dict，支持变长参数，返回新创建的dict</p><div class="language- line-numbers-mode" data-highlighter="shiki" data-ext="" data-title="" style="--shiki-light:#24292e;--shiki-dark:#abb2bf;--shiki-light-bg:#fff;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes github-light one-dark-pro vp-code"><code><span class="line"><span>{{ $d := dict &quot;a&quot; 1 &quot;b&quot; 2 &quot;c&quot; 3 }}</span></span>
<span class="line"><span>{{ $d2 := pick $d &quot;a&quot; &quot;b&quot; }}</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div></div></div></details><ul><li>json处理</li></ul><p>json处理使用 <a href="https://github.com/tidwall/gjson" target="_blank" rel="noopener noreferrer">gjson</a> 库实现，请参考对应文档。</p><div class="language- line-numbers-mode" data-highlighter="shiki" data-ext="" data-title="" style="--shiki-light:#24292e;--shiki-dark:#abb2bf;--shiki-light-bg:#fff;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes github-light one-dark-pro vp-code"><code><span class="line"><span>{{- $data := `{&quot;name&quot;:{&quot;first&quot;:&quot;Janet&quot;,&quot;last&quot;:&quot;Prichard&quot;},&quot;age&quot;:47}` -}}</span></span>
<span class="line"><span>{{- $j := toGJson $data -}}</span></span>
<span class="line"><span>{{- $name := ($j.Get &quot;name.first&quot;).String -}}</span></span>
<span class="line"><span>{{- $age := ($j.Get &quot;age&quot;).Int -}}</span></span>
<span class="line"><span></span></span>
<span class="line"><span>Name is {{ $name }}.</span></span>
<span class="line"><span>Age is {{ $age }}.</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ul><li>http请求</li></ul><p>目前仅支持get / post 请求。</p><p><code>httpGet</code> 用于发送get请求。</p><p><code>httpPostJson</code> 用于发送json格式的post请求</p><p><code>httpPostForm</code> 用于发送表单格式的post请求</p><p>三个函数的用法相同：</p><p>支持两个参数，第一个参数为url，第二个参数为请求参数（可选），请求参数的格式为dict，可使用dict创建。</p><div class="language- line-numbers-mode" data-highlighter="shiki" data-ext="" data-title="" style="--shiki-light:#24292e;--shiki-dark:#abb2bf;--shiki-light-bg:#fff;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes github-light one-dark-pro vp-code"><code><span class="line"><span>{{/* 不带参数的httpGet */}}</span></span>
<span class="line"><span>{{- $j := httpGet &quot;https://httpbin.sora233.me/get&quot; | toGJson -}}</span></span>
<span class="line"><span>机器人的IP是：{{ coalesce ($j.Get &quot;origin&quot;).String &quot;获取失败&quot; }}</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><div class="language- line-numbers-mode" data-highlighter="shiki" data-ext="" data-title="" style="--shiki-light:#24292e;--shiki-dark:#abb2bf;--shiki-light-bg:#fff;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes github-light one-dark-pro vp-code"><code><span class="line"><span>{{/* 带参数的httpGet */}}</span></span>
<span class="line"><span>{{- $name := (member_info .group_code .member_code).name -}}</span></span>
<span class="line"><span>{{- $j := httpGet &quot;https://httpbin.sora233.me/get&quot; (dict &quot;name&quot; $name) | toGJson -}}</span></span>
<span class="line"><span>你好，{{ ($j.Get &quot;args.name.0&quot;).String }}！</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><strong>http请求的特殊参数</strong></p><p>http请求存在一些特殊的保留参数，用来控制http行为，这些参数不会真正发送出去，当前支持：</p><ul><li>DDBOT_REQ_DEBUG</li></ul><p>会详细输出本次http请求的细节（可能含有隐私信息，请注意不要随便复制给别人），用于DEBUG</p><ul><li>DDBOT_REQ_USER_AGENT</li></ul><p>设置本次http请求的user_agent字段，大部分情况下不用设置，使用默认设置即可，默认值为：</p><div class="language-text line-numbers-mode" data-highlighter="shiki" data-ext="text" data-title="text" style="--shiki-light:#24292e;--shiki-dark:#abb2bf;--shiki-light-bg:#fff;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes github-light one-dark-pro vp-code"><code><span class="line"><span>Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/90.0.4430.212 Safari/537.36</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><ul><li>DDBOT_REQ_HEADER</li></ul><p>设置http请求的header，可以设置为list，每一项的格式为&quot;A=B&quot;，表示设置header名字为A，值为B</p><ul><li>DDBOT_REQ_COOKIE <strong>（警告：不正确使用可能导致ccokie泄漏）</strong></li></ul><p>设置http请求的cookie，可以设置为list，每一项的格式为&quot;A=B&quot;，表示设置cookie名字为A，值为B</p><ul><li>DDBOT_REQ_PROXY</li></ul><p>用于控制请求代理，可以是：</p><p><code>prefer_mainland</code> 使用mainland代理（要求已经配置proxy_pool)</p><p><code>prefer_oversea</code> 使用oversea代理（要求已经配置proxy_pool)</p><p><code>prefer_none</code> 不使用代理</p><p><code>prefer_any</code> 随机选择mainland/oversea</p><p><code>直接的proxy地址（例如http://localhost:7890）</code> 直接使用指定的代理</p><p>特殊参数的例子：</p><div class="language- line-numbers-mode" data-highlighter="shiki" data-ext="" data-title="" style="--shiki-light:#24292e;--shiki-dark:#abb2bf;--shiki-light-bg:#fff;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes github-light one-dark-pro vp-code"><code><span class="line"><span>{{- /* 特殊参数的httpGet */ -}}</span></span>
<span class="line"><span></span></span>
<span class="line"><span>{{- $d := dict -}}</span></span>
<span class="line"><span></span></span>
<span class="line"><span>{{- /* 设置DDBOT_REQ_DEBUG，展示http 详细信息*/ -}}</span></span>
<span class="line"><span>{{- $d = set $d &quot;DDBOT_REQ_DEBUG&quot; &quot;1&quot; -}}</span></span>
<span class="line"><span></span></span>
<span class="line"><span>{{- /* 设置DDBOT_REQ_USER_AGENT，自定义USER_AGENT */ -}}</span></span>
<span class="line"><span>{{- $d = set $d &quot;DDBOT_REQ_USER_AGENT&quot; &quot;DDBOT TEMPLATE 100%&quot; -}}</span></span>
<span class="line"><span></span></span>
<span class="line"><span>{{- /* 设置DDBOT_REQ_HEADER，添加http自定义header */ -}}</span></span>
<span class="line"><span>{{- $d = set $d &quot;DDBOT_REQ_HEADER&quot; (list &quot;FROM_DDBOT=yes&quot;) -}}</span></span>
<span class="line"><span></span></span>
<span class="line"><span>{{- /* 设置DDBOT_REQ_COOKIE，添加http自定义cookie */ -}}</span></span>
<span class="line"><span>{{- $d = set $d &quot;DDBOT_REQ_COOKIE&quot; (list &quot;DDBOT_COOKIE=cookie_value&quot;) -}}</span></span>
<span class="line"><span></span></span>
<span class="line"><span>{{- /* 设置DDBOT_REQ_PROXY，不使用代理 */ -}}</span></span>
<span class="line"><span>{{- $d = set $d &quot;DDBOT_REQ_PROXY&quot; &quot;prefer_none&quot; -}}</span></span>
<span class="line"><span></span></span>
<span class="line"><span>{{- $_ := httpGet &quot;https://httpbin.sora233.me/get&quot; $d -}}</span></span>
<span class="line"><span>请查看命令行内的详细输出</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><em>以下为v1.0.9新增</em></p><ul><li>发送戳一戳消息（只支持群聊）</li></ul><p>戳一戳QQ号123456的用户</p><div class="language- line-numbers-mode" data-highlighter="shiki" data-ext="" data-title="" style="--shiki-light:#24292e;--shiki-dark:#abb2bf;--shiki-light-bg:#fff;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes github-light one-dark-pro vp-code"><code><span class="line"><span>{{ poke 123456 }}</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><ul><li>获取bot的qq号码</li></ul><div class="language- line-numbers-mode" data-highlighter="shiki" data-ext="" data-title="" style="--shiki-light:#24292e;--shiki-dark:#abb2bf;--shiki-light-bg:#fff;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes github-light one-dark-pro vp-code"><code><span class="line"><span>{{ bot_uin }}</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><ul><li>设置命令冷却时间cooldown</li></ul><p>cooldown设置后，设定时间内只有第一次会返回true，后续函数将返回false。</p><p>cooldown函数可以跨模板设置。</p><p>cooldown函数第一个参数为时间单位，支持如下简写，数字可以自由更换：</p><ul><li>500ms（表示500毫秒）</li><li>1s（表示1秒钟）</li><li>20m（表示20分钟）</li><li>1.5h（表示1.5小时）</li><li>2h45m（表示2小时45分钟）</li></ul><p><strong>如果设置为0或者负数，将自动替换为5m（即5分钟）</strong></p><p>cooldown函数的后续参数为设置cooldown的关键字，不同关键字的cooldown无任何关联，相同关键字的cooldown在时间范围内只能触发一次。</p><p>例子：</p><p>使用模板名作为关键字，实现单个模板所有人共享cooldown，不同模板独立cooldown：</p><div class="language- line-numbers-mode" data-highlighter="shiki" data-ext="" data-title="" style="--shiki-light:#24292e;--shiki-dark:#abb2bf;--shiki-light-bg:#fff;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes github-light one-dark-pro vp-code"><code><span class="line"><span>{{- if (cooldown &quot;10s&quot; .template_name) -}}</span></span>
<span class="line"><span>成功</span></span>
<span class="line"><span>{{- else -}}</span></span>
<span class="line"><span>失败，正在冷却</span></span>
<span class="line"><span>{{- end -}}</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>把<code>.member_code</code>加入关键字，实现每个人对每个模板有独立cooldown：</p><div class="language- line-numbers-mode" data-highlighter="shiki" data-ext="" data-title="" style="--shiki-light:#24292e;--shiki-dark:#abb2bf;--shiki-light-bg:#fff;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes github-light one-dark-pro vp-code"><code><span class="line"><span>{{- if (cooldown &quot;10s&quot; .member_code .template_name) -}}</span></span>
<span class="line"><span>成功</span></span>
<span class="line"><span>{{- else -}}</span></span>
<span class="line"><span>失败，正在冷却</span></span>
<span class="line"><span>{{- end -}}</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>使用固定关键字，实现不同模板共享cooldown：</p><div class="language- line-numbers-mode" data-highlighter="shiki" data-ext="" data-title="" style="--shiki-light:#24292e;--shiki-dark:#abb2bf;--shiki-light-bg:#fff;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes github-light one-dark-pro vp-code"><code><span class="line"><span>{{- if (cooldown &quot;10s&quot; &quot;my_cooldown_keyword_1&quot;) -}}</span></span>
<span class="line"><span>成功</span></span>
<span class="line"><span>{{- else -}}</span></span>
<span class="line"><span>失败，正在冷却</span></span>
<span class="line"><span>{{- end -}}</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ul><li>读取本地文件<code>openFile</code></li></ul><p><strong>警告：该函数并不会对参数做安全检查，在任何情况下都绝对不要把用户输入作为函数参数。</strong></p><p>返回值为<code>[]byte</code> ，例子：</p><div class="language- line-numbers-mode" data-highlighter="shiki" data-ext="" data-title="" style="--shiki-light:#24292e;--shiki-dark:#abb2bf;--shiki-light-bg:#fff;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes github-light one-dark-pro vp-code"><code><span class="line"><span>{{ $data := openFile &quot;path/myfile&quot; }}</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><ul><li>强制退出当前模板<code>abort</code></li></ul><p>退出当前模板并且丢弃已经产生的内容，如果有参数，则会发送参数</p><p>例子：</p><div class="language- line-numbers-mode" data-highlighter="shiki" data-ext="" data-title="" style="--shiki-light:#24292e;--shiki-dark:#abb2bf;--shiki-light-bg:#fff;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes github-light one-dark-pro vp-code"><code><span class="line"><span>{{- abort -}}</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><div class="language- line-numbers-mode" data-highlighter="shiki" data-ext="" data-title="" style="--shiki-light:#24292e;--shiki-dark:#abb2bf;--shiki-light-bg:#fff;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes github-light one-dark-pro vp-code"><code><span class="line"><span>{{- abort &quot;出现错误&quot; -}}</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><div class="language- line-numbers-mode" data-highlighter="shiki" data-ext="" data-title="" style="--shiki-light:#24292e;--shiki-dark:#abb2bf;--shiki-light-bg:#fff;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes github-light one-dark-pro vp-code"><code><span class="line"><span>{{- if eq 1 5 -}}</span></span>
<span class="line"><span>  {{- abort (printf &quot;出现错误: %v居然等于%v&quot; 1 5) -}}</span></span>
<span class="line"><span>{{- end -}}</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>abort也支持图片参数</p><div class="language- line-numbers-mode" data-highlighter="shiki" data-ext="" data-title="" style="--shiki-light:#24292e;--shiki-dark:#abb2bf;--shiki-light-bg:#fff;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes github-light one-dark-pro vp-code"><code><span class="line"><span>{{ abort (pic &quot;https://i2.hdslb.com/bfs/face/0bd7082c8c9a14ef460e64d5f74ee439c16c0e88.jpg&quot; ) }}</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><ul><li>结束处理当前模板<code>fin</code></li></ul><p>退出当前模板并且发送已经产生的内容，未被处理的模板代码将被跳过</p><div class="language- line-numbers-mode" data-highlighter="shiki" data-ext="" data-title="" style="--shiki-light:#24292e;--shiki-dark:#abb2bf;--shiki-light-bg:#fff;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes github-light one-dark-pro vp-code"><code><span class="line"><span>这句话会输出</span></span>
<span class="line"><span>{{- fin -}}</span></span>
<span class="line"><span>这句话不会输出</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="当前支持的命令模板" tabindex="-1"><a class="header-anchor" href="#当前支持的命令模板"><span>当前支持的命令模板</span></a></h2><p>命令通用模板变量：</p><table><thead><tr><th>模板变量</th><th>类型</th><th>含义</th><th>备注</th></tr></thead><tbody><tr><td>group_code</td><td>int</td><td>本次命令触发的QQ群号码（私聊则为空）</td><td></td></tr><tr><td>group_name</td><td>string</td><td>本次命令触发的QQ群名称（私聊则为空）</td><td></td></tr><tr><td>member_code</td><td>int</td><td>本次命令触发的成员QQ号</td><td></td></tr><tr><td>member_name</td><td>string</td><td>本次命令触发的成员QQ名称</td><td></td></tr><tr><td>cmd</td><td>string</td><td>本次触发的命令名称</td><td>从v1.0.7版本开始支持</td></tr><tr><td>args</td><td>[]string</td><td>本次命令触发时附带的参数数组（只支持文字）</td><td>从v1.0.7版本开始支持</td></tr><tr><td>at_targets</td><td>[]int64</td><td>本次命令触发时附带的@成员的QQ号码</td><td>从v1.0.8版本开始支持</td></tr><tr><td>full_args</td><td>string</td><td>本次命令触发时附带的完整参数（只支持文字）</td><td>从v1.0.8版本开始支持</td></tr><tr><td>template_name</td><td>string</td><td>本次命令触发时的模板名字</td><td>从v1.0.9版本开始支持</td></tr></tbody></table><ul><li>/签到</li></ul><p>模板名：<code>command.group.checkin.tmpl</code></p><table><thead><tr><th>模板变量</th><th>类型</th><th>含义</th></tr></thead><tbody><tr><td>success</td><td>bool</td><td>表示本次签到是否成功，一天内只有第一次签到成功，后续签到失败</td></tr><tr><td>score</td><td>int</td><td>表示目前拥有的签到分数</td></tr></tbody></table><details><summary>默认模板</summary><div class="language-text line-numbers-mode" data-highlighter="shiki" data-ext="text" data-title="text" style="--shiki-light:#24292e;--shiki-dark:#abb2bf;--shiki-light-bg:#fff;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes github-light one-dark-pro vp-code"><code><span class="line"><span>{{ reply .msg }}{{if .success}}签到成功！获得1积分，当前积分为{{.score}}{{else}}明天再来吧，当前积分为{{.score}}{{end}}</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div></details><ul><li>/help （私聊版）</li></ul><p>模板名：<code>command.private.help.tmpl</code></p><table><thead><tr><th>模板变量</th><th>类型</th><th>含义</th></tr></thead><tbody><tr><td>无</td><td></td><td></td></tr></tbody></table><details><summary>默认模板</summary><div class="language-text line-numbers-mode" data-highlighter="shiki" data-ext="text" data-title="text" style="--shiki-light:#24292e;--shiki-dark:#abb2bf;--shiki-light-bg:#fff;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes github-light one-dark-pro vp-code"><code><span class="line"><span>常见订阅用法：</span></span>
<span class="line"><span>以作者UID:97505为例</span></span>
<span class="line"><span>首先订阅直播信息：{{ prefix }}watch 97505</span></span>
<span class="line"><span>然后订阅动态信息：{{ prefix }}watch -t news 97505</span></span>
<span class="line"><span>由于通常动态内容较多，可以选择不推送转发的动态</span></span>
<span class="line"><span>{{ prefix }}config filter not_type 97505 转发</span></span>
<span class="line"><span>还可以选择开启直播推送时@全体成员：</span></span>
<span class="line"><span>{{ prefix }}config at_all 97505 on</span></span>
<span class="line"><span>以及开启下播推送：</span></span>
<span class="line"><span>{{ prefix }}config offline_notify 97505 on</span></span>
<span class="line"><span>BOT还支持更多功能，详细命令介绍请查看命令文档：</span></span>
<span class="line"><span>https://gitee.com/sora233/DDBOT/blob/master/EXAMPLE.md</span></span>
<span class="line"><span>使用时请把作者UID换成你需要的UID</span></span>
<span class="line"><span>当您完成所有配置后，可以使用{{ prefix }}silence命令，让bot专注于推送，在群内发言更少</span></span>
<span class="line"><span>{{- cut -}}</span></span>
<span class="line"><span>B站专栏介绍：https://www.bilibili.com/read/cv10602230</span></span>
<span class="line"><span>如果您有任何疑问或者建议，请反馈到唯一指定交流群：755612788</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div></details><ul><li>/help （群聊版）</li></ul><p>模板名：<code>command.group.help.tmpl</code></p><table><thead><tr><th>模板变量</th><th>类型</th><th>含义</th></tr></thead><tbody><tr><td>无</td><td></td><td></td></tr></tbody></table><details><summary>默认模板</summary><div class="language-text line-numbers-mode" data-highlighter="shiki" data-ext="text" data-title="text" style="--shiki-light:#24292e;--shiki-dark:#abb2bf;--shiki-light-bg:#fff;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes github-light one-dark-pro vp-code"><code><span class="line"><span>DDBOT是一个多功能单推专用推送机器人，支持b站、斗鱼、油管、虎牙推送</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div></details><ul><li>/lsp</li></ul><p>模板名：<code>command.group.lsp.tmpl</code></p><table><thead><tr><th>模板变量</th><th>类型</th><th>含义</th></tr></thead><tbody><tr><td>无</td><td></td><td></td></tr></tbody></table><details><summary>默认模板</summary><div class="language-text line-numbers-mode" data-highlighter="shiki" data-ext="text" data-title="text" style="--shiki-light:#24292e;--shiki-dark:#abb2bf;--shiki-light-bg:#fff;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes github-light one-dark-pro vp-code"><code><span class="line"><span>{{ reply .msg -}}</span></span>
<span class="line"><span>LSP竟然是你</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div></div></div></details><ul><li>/ping(私聊)</li></ul><p>模板名：<code>command.private.ping.tmpl</code></p><table><thead><tr><th>模板变量</th><th>类型</th><th>含义</th></tr></thead><tbody><tr><td>无</td><td></td><td></td></tr></tbody></table><details><summary>默认模板</summary><div class="language-text line-numbers-mode" data-highlighter="shiki" data-ext="text" data-title="text" style="--shiki-light:#24292e;--shiki-dark:#abb2bf;--shiki-light-bg:#fff;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes github-light one-dark-pro vp-code"><code><span class="line"><span>pong</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div></details><h2 id="当前支持的推送模板" tabindex="-1"><a class="header-anchor" href="#当前支持的推送模板"><span>当前支持的推送模板</span></a></h2><ul><li>b站直播推送</li></ul><p>模板名：<code>notify.group.bilibili.live.tmpl</code></p><table><thead><tr><th>模板变量</th><th>类型</th><th>含义</th></tr></thead><tbody><tr><td>living</td><td>bool</td><td>是否正在直播</td></tr><tr><td>name</td><td>string</td><td>主播昵称</td></tr><tr><td>title</td><td>string</td><td>直播标题</td></tr><tr><td>url</td><td>string</td><td>直播间链接</td></tr><tr><td>cover</td><td>string</td><td>直播间封面或者主播头像</td></tr></tbody></table><details><summary>默认模板</summary><div class="language-text line-numbers-mode" data-highlighter="shiki" data-ext="text" data-title="text" style="--shiki-light:#24292e;--shiki-dark:#abb2bf;--shiki-light-bg:#fff;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes github-light one-dark-pro vp-code"><code><span class="line"><span>{{ if .living -}}</span></span>
<span class="line"><span>{{ .name }}正在直播【{{ .title }}】</span></span>
<span class="line"><span>{{ .url -}}</span></span>
<span class="line"><span>{{ pic .cover &quot;[封面]&quot; }}</span></span>
<span class="line"><span>{{- else -}}</span></span>
<span class="line"><span>{{ .name }}直播结束了</span></span>
<span class="line"><span>{{ pic .cover &quot;[封面]&quot; }}</span></span>
<span class="line"><span>{{- end -}}</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div></details><ul><li>ACFUN站直播推送</li></ul><p>模板名：<code>notify.group.acfun.live.tmpl</code></p><table><thead><tr><th>模板变量</th><th>类型</th><th>含义</th></tr></thead><tbody><tr><td>living</td><td>bool</td><td>是否正在直播</td></tr><tr><td>name</td><td>string</td><td>主播昵称</td></tr><tr><td>title</td><td>string</td><td>直播标题</td></tr><tr><td>url</td><td>string</td><td>直播间链接</td></tr><tr><td>cover</td><td>string</td><td>直播间封面或者主播头像</td></tr></tbody></table><details><summary>默认模板</summary><div class="language-text line-numbers-mode" data-highlighter="shiki" data-ext="text" data-title="text" style="--shiki-light:#24292e;--shiki-dark:#abb2bf;--shiki-light-bg:#fff;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes github-light one-dark-pro vp-code"><code><span class="line"><span>{{ if .living -}}</span></span>
<span class="line"><span>ACFUN-{{ .name }}正在直播【{{ .title }}】</span></span>
<span class="line"><span>{{ .url -}}</span></span>
<span class="line"><span>{{ pic .cover &quot;[封面]&quot; }}</span></span>
<span class="line"><span>{{- else -}}</span></span>
<span class="line"><span>ACFUN-{{ .name }}直播结束了</span></span>
<span class="line"><span>{{ pic .cover &quot;[封面]&quot; }}</span></span>
<span class="line"><span>{{- end -}}</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div></details><ul><li>斗鱼直播推送</li></ul><p>模板名：<code>notify.group.douyu.live.tmpl</code></p><table><thead><tr><th>模板变量</th><th>类型</th><th>含义</th></tr></thead><tbody><tr><td>living</td><td>bool</td><td>是否正在直播</td></tr><tr><td>name</td><td>string</td><td>主播昵称</td></tr><tr><td>title</td><td>string</td><td>直播标题</td></tr><tr><td>url</td><td>string</td><td>直播间链接</td></tr><tr><td>cover</td><td>string</td><td>直播间封面或者主播头像</td></tr></tbody></table><details><summary>默认模板</summary><div class="language-text line-numbers-mode" data-highlighter="shiki" data-ext="text" data-title="text" style="--shiki-light:#24292e;--shiki-dark:#abb2bf;--shiki-light-bg:#fff;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes github-light one-dark-pro vp-code"><code><span class="line"><span>{{ if .living -}}</span></span>
<span class="line"><span>斗鱼-{{ .name }}正在直播【{{ .title }}】</span></span>
<span class="line"><span>{{ .url -}}</span></span>
<span class="line"><span>{{ pic .cover &quot;[封面]&quot; }}</span></span>
<span class="line"><span>{{- else -}}</span></span>
<span class="line"><span>斗鱼-{{ .name }}直播结束了</span></span>
<span class="line"><span>{{ pic .cover &quot;[封面]&quot; }}</span></span>
<span class="line"><span>{{- end -}}</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div></details><ul><li>虎牙直播推送</li></ul><p>模板名：<code>notify.group.huya.live.tmpl</code></p><table><thead><tr><th>模板变量</th><th>类型</th><th>含义</th></tr></thead><tbody><tr><td>living</td><td>bool</td><td>是否正在直播</td></tr><tr><td>name</td><td>string</td><td>主播昵称</td></tr><tr><td>title</td><td>string</td><td>直播标题</td></tr><tr><td>url</td><td>string</td><td>直播间链接</td></tr><tr><td>cover</td><td>string</td><td>直播间封面或者主播头像</td></tr></tbody></table><details><summary>默认模板</summary><div class="language-text line-numbers-mode" data-highlighter="shiki" data-ext="text" data-title="text" style="--shiki-light:#24292e;--shiki-dark:#abb2bf;--shiki-light-bg:#fff;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes github-light one-dark-pro vp-code"><code><span class="line"><span>{{ if .living -}}</span></span>
<span class="line"><span>虎牙-{{ .name }}正在直播【{{ .title }}】</span></span>
<span class="line"><span>{{ .url -}}</span></span>
<span class="line"><span>{{ pic .cover &quot;[封面]&quot; }}</span></span>
<span class="line"><span>{{- else -}}</span></span>
<span class="line"><span>虎牙-{{ .name }}直播结束了</span></span>
<span class="line"><span>{{ pic .cover &quot;[封面]&quot; }}</span></span>
<span class="line"><span>{{- end -}}</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div></details><h2 id="当前支持的事件模板" tabindex="-1"><a class="header-anchor" href="#当前支持的事件模板"><span>当前支持的事件模板</span></a></h2><ul><li>有新成员加入群</li></ul><p>模板名：<code>trigger.group.member_in.tmpl</code></p><table><thead><tr><th>模板变量</th><th>类型</th><th>含义</th></tr></thead><tbody><tr><td>group_code</td><td>int64</td><td>群号码</td></tr><tr><td>group_name</td><td>string</td><td>群名称</td></tr><tr><td>member_code</td><td>int64</td><td>新加入的成员QQ号</td></tr><tr><td>member_name</td><td>string</td><td>新加入的成员昵称</td></tr></tbody></table><details><summary>默认模板</summary><p><em>该模板默认为空，即不发送消息</em></p><div class="language-text line-numbers-mode" data-highlighter="shiki" data-ext="text" data-title="text" style="--shiki-light:#24292e;--shiki-dark:#abb2bf;--shiki-light-bg:#fff;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes github-light one-dark-pro vp-code"><code><span class="line"><span></span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div></details><ul><li>有成员退出群</li></ul><p>模板名：<code>trigger.group.member_out.tmpl</code></p><table><thead><tr><th>模板变量</th><th>类型</th><th>含义</th></tr></thead><tbody><tr><td>group_code</td><td>int64</td><td>群号码</td></tr><tr><td>group_name</td><td>string</td><td>群名称</td></tr><tr><td>member_code</td><td>int64</td><td>退出的成员QQ号</td></tr><tr><td>member_name</td><td>string</td><td>退出的成员昵称</td></tr></tbody></table><details><summary>默认模板</summary><p><em>该模板默认为空，即不发送消息</em></p><div class="language-text line-numbers-mode" data-highlighter="shiki" data-ext="text" data-title="text" style="--shiki-light:#24292e;--shiki-dark:#abb2bf;--shiki-light-bg:#fff;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes github-light one-dark-pro vp-code"><code><span class="line"><span></span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div></details><ul><li>bot添加新好友</li></ul><p>模板名：<code>trigger.private.new_friend_added.tmpl</code></p><table><thead><tr><th>模板变量</th><th>类型</th><th>含义</th></tr></thead><tbody><tr><td>member_code</td><td>int64</td><td>添加的好友QQ号</td></tr><tr><td>member_name</td><td>string</td><td>添加的好友QQ昵称</td></tr><tr><td>.command.HelpCommand</td><td>string</td><td>帮助命令名称，默认是<code>help</code></td></tr></tbody></table><details><summary>默认模板</summary><div class="language-text line-numbers-mode" data-highlighter="shiki" data-ext="text" data-title="text" style="--shiki-light:#24292e;--shiki-dark:#abb2bf;--shiki-light-bg:#fff;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes github-light one-dark-pro vp-code"><code><span class="line"><span>阁下的好友请求已通过，请使用&lt;{{ prefix .command.HelpCommand }}&gt;(不含括号)查看帮助，然后在群成员页面邀请bot加群（bot不会主动加群）。</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div></details><ul><li>bot接受加群邀请</li></ul><p>模板名：<code>trigger.private.group_invited.tmpl</code></p><table><thead><tr><th>模板变量</th><th>类型</th><th>含义</th></tr></thead><tbody><tr><td>group_code</td><td>int64</td><td>邀请加入的群号码</td></tr><tr><td>group_name</td><td>string</td><td>邀请加入的群名称</td></tr><tr><td>member_code</td><td>int64</td><td>邀请人的QQ号</td></tr><tr><td>member_name</td><td>string</td><td>邀请人的QQ昵称</td></tr></tbody></table><details><summary>默认模板</summary><div class="language-text line-numbers-mode" data-highlighter="shiki" data-ext="text" data-title="text" style="--shiki-light:#24292e;--shiki-dark:#abb2bf;--shiki-light-bg:#fff;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes github-light one-dark-pro vp-code"><code><span class="line"><span>阁下的群邀请已通过，基于对阁下的信任，阁下已获得本bot在群【{{ .group_name }}】的控制权限，相信阁下不会滥用本bot。</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div></details><p><em>以下为v1.0.9新增</em></p><ul><li>bot收到群戳一戳</li></ul><p>模板名：<code>trigger.group.poke.tmpl</code></p><table><thead><tr><th>模板变量</th><th>类型</th><th>含义</th></tr></thead><tbody><tr><td>group_code</td><td>int64</td><td>发生戳一戳的群号码</td></tr><tr><td>group_name</td><td>string</td><td>发生戳一戳的群名称</td></tr><tr><td>member_code</td><td>int64</td><td>发送戳一戳的用户QQ号</td></tr><tr><td>member_name</td><td>string</td><td>发送戳一戳的用户QQ昵称</td></tr><tr><td>receiver_code</td><td>int64</td><td>被戳的用户QQ号</td></tr><tr><td>receiver_name</td><td>string</td><td>被戳的用户QQ昵称</td></tr></tbody></table><p>注意群内所有的戳一戳消息都会受到，如果只想处理bot被戳的消息，需要使用<code>receiver_code</code>进行判断</p><details><summary>默认模板</summary><p><em>该模板默认为空，即不发送消息</em></p><div class="language-text line-numbers-mode" data-highlighter="shiki" data-ext="text" data-title="text" style="--shiki-light:#24292e;--shiki-dark:#abb2bf;--shiki-light-bg:#fff;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes github-light one-dark-pro vp-code"><code><span class="line"><span></span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div></details><ul><li>bot收到好友私聊戳一戳</li></ul><p>模板名：<code>trigger.private.poke.tmpl</code></p><table><thead><tr><th>模板变量</th><th>类型</th><th>含义</th></tr></thead><tbody><tr><td>member_code</td><td>int64</td><td>发送戳一戳的用户QQ号</td></tr><tr><td>member_name</td><td>string</td><td>发送戳一戳的QQ昵称</td></tr></tbody></table><details><summary>默认模板</summary><p><em>该模板默认为空，即不发送消息</em></p><div class="language-text line-numbers-mode" data-highlighter="shiki" data-ext="text" data-title="text" style="--shiki-light:#24292e;--shiki-dark:#abb2bf;--shiki-light-bg:#fff;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes github-light one-dark-pro vp-code"><code><span class="line"><span></span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div></details><ul><li>bot被禁言（包含全体禁言）</li></ul><p>模板名：<code>trigger.group.bot_mute.tmpl</code></p><table><thead><tr><th>模板变量</th><th>类型</th><th>含义</th></tr></thead><tbody><tr><td>group_code</td><td>int64</td><td>发生禁言的群号码</td></tr><tr><td>group_name</td><td>string</td><td>发生禁言的群名称</td></tr><tr><td>member_code</td><td>int64</td><td>被禁言的用户QQ号</td></tr><tr><td>member_name</td><td>string</td><td>被禁言的用户QQ昵称</td></tr><tr><td>operator_code</td><td>int64</td><td>操作者的用户QQ号</td></tr><tr><td>operator_name</td><td>string</td><td>操作者的用户QQ昵称</td></tr></tbody></table><details><summary>默认模板</summary><p><em>该模板默认为空，即不发送消息</em></p><div class="language-text line-numbers-mode" data-highlighter="shiki" data-ext="text" data-title="text" style="--shiki-light:#24292e;--shiki-dark:#abb2bf;--shiki-light-bg:#fff;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes github-light one-dark-pro vp-code"><code><span class="line"><span></span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div></details></div><!----><footer class="vp-page-meta"><div class="vp-meta-item edit-link"><a class="auto-link external-link vp-meta-label" href="https://github.com/rock8526652/docs/edit/main/src/docs/QQNT+DDBOT/模板/README.md" aria-label="在 GitHub 上编辑此页" rel="noopener noreferrer" target="_blank"><!--[--><svg xmlns="http://www.w3.org/2000/svg" class="icon edit-icon" viewBox="0 0 1024 1024" fill="currentColor" aria-label="edit icon" name="edit"><path d="M430.818 653.65a60.46 60.46 0 0 1-50.96-93.281l71.69-114.012 7.773-10.365L816.038 80.138A60.46 60.46 0 0 1 859.225 62a60.46 60.46 0 0 1 43.186 18.138l43.186 43.186a60.46 60.46 0 0 1 0 86.373L588.879 565.55l-8.637 8.637-117.466 68.234a60.46 60.46 0 0 1-31.958 11.229z"></path><path d="M728.802 962H252.891A190.883 190.883 0 0 1 62.008 771.98V296.934a190.883 190.883 0 0 1 190.883-192.61h267.754a60.46 60.46 0 0 1 0 120.92H252.891a69.962 69.962 0 0 0-69.098 69.099V771.98a69.962 69.962 0 0 0 69.098 69.098h475.911A69.962 69.962 0 0 0 797.9 771.98V503.363a60.46 60.46 0 1 1 120.922 0V771.98A190.883 190.883 0 0 1 728.802 962z"></path></svg><!--]-->在 GitHub 上编辑此页<!----></a></div><div class="vp-meta-item git-info"><div class="update-time"><span class="vp-meta-label">上次编辑于: </span><!----></div><div class="contributors"><span class="vp-meta-label">贡献者: </span><!--[--><!--[--><span class="vp-meta-info" title="email: 136422328+kongkongwa@users.noreply.github.com">kongkongwa</span><!--]--><!--]--></div></div></footer><nav class="vp-page-nav"><a class="route-link auto-link prev" href="/docs/QQNT_DDBOT/%E5%91%BD%E4%BB%A4%E6%8C%87%E5%8D%97/" aria-label="命令指南"><div class="hint"><span class="arrow start"></span>上一页</div><div class="link"><span class="font-icon icon fa-fw fa-sm fab fa-markdown" style=""></span>命令指南</div></a><!----></nav><div id="vp-comment" class="giscus-wrapper input-top" style="display:block;"><svg xmlns="http://www.w3.org/2000/svg" width="32" height="32" preserveAspectRatio="xMidYMid" viewBox="0 0 100 100"><circle cx="28" cy="75" r="11" fill="currentColor"><animate attributeName="fill-opacity" begin="0s" dur="1s" keyTimes="0;0.2;1" repeatCount="indefinite" values="0;1;1"></animate></circle><path fill="none" stroke="#88baf0" stroke-width="10" d="M28 47a28 28 0 0 1 28 28"><animate attributeName="stroke-opacity" begin="0.1s" dur="1s" keyTimes="0;0.2;1" repeatCount="indefinite" values="0;1;1"></animate></path><path fill="none" stroke="#88baf0" stroke-width="10" d="M28 25a50 50 0 0 1 50 50"><animate attributeName="stroke-opacity" begin="0.2s" dur="1s" keyTimes="0;0.2;1" repeatCount="indefinite" values="0;1;1"></animate></path></svg></div><!----><!--]--></main><!--]--><footer class="vp-footer-wrapper"><div class="vp-footer">晴风 & Alien</div><div class="vp-copyright">Copyright © 2025 晴风 </div></footer></div><!--]--><!--[--><!----><!--]--><!--]--></div>
    <script type="module" src="/assets/app-QMSbrpS1.js" defer></script>
  </body>
</html>
